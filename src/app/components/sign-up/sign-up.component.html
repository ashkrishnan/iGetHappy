
  <mat-horizontal-stepper [linear]="isLinear"> 
    <mat-step [stepControl]="angForm">
      
        <section class="igh-loginpage">

          <div class="igh-login-left">
            <a href="" class="igh-login-left-logo"><img src="assets/images/logo-white.svg" alt="logo"></a>
        <h1 class="igh-login-left-text">Provides full suite of tools for <br> Emotional and Behavioral Health and <br> Wellness </h1>
          </div>
        <div class="igh-login-sidebar">
          <div class="row">
      <div class="col-sm-12 py-2">
        <a class="back-icon" href="javascript:;" (click)="backClicked()"><i class="material-icons">arrow_back</i></a>
      </div>
    </div>
          <app-block-title title="Sign Up"></app-block-title>
           <!-- <h1 class="igh-title center">Welcome to iGetHappy</h1>  -->
            <form class="igh-form igh-login-form" [formGroup]="angForm" novalidate>
            <div class="igh-form-block">
              <label class="igh-form-block-label">Email Address</label>
              <input class="igh-form-block-input transparent" type="text" placeholder="Enter Email ID"  formControlName="email" [ngModel] = 'userEmail' maxlength="100"
              #email (focusout)="checkEmail()"/>
              <div *ngIf="angForm.controls['email'].invalid && (angForm.controls['email'].dirty || angForm.controls['email'].touched)" class="errors-msg">
                <div *ngIf="angForm.controls['email'].errors.required">
                  Email is required.
                </div>
                <div *ngIf="angForm.controls['email'].errors.email || angForm.controls['email'].errors.pattern">Email must be a valid</div>
              </div>
      
            </div>
      
            <div class="igh-form-block br-btm">
              <label class="igh-form-block-label">Phone Number </label>
              <input class="igh-form-block-input transparent"   type="number"  placeholder="Enter Phone Number" formControlName="phone_number" #phone_number  (input)="checkCharacters(phone_number.value)" [ngModel] = 'phoneNumber'/>
              
              <div *ngIf="angForm.controls['phone_number'].invalid && (angForm.controls['phone_number'].dirty || angForm.controls['phone_number'].touched)" class="errors-msg">
                <div *ngIf="angForm.controls['phone_number'].errors.required">
                  Phone Number is required.
                </div>
                <div *ngIf="angForm.controls['phone_number'].errors.pattern">
                  Enter valid Phone Number.
                </div>
              </div>
            </div>
            <div class="igh-form-block">
              <label class="igh-form-block-label">Password</label>
              <input class="igh-form-block-input transparent" type="password" placeholder="Enter Password" formControlName="password" onKeyDown="if(this.value.length==20 && event.keyCode!=8) return false;"
              #password/>
              <div *ngIf="angForm.controls['password'].invalid && (angForm.controls['password'].dirty || angForm.controls['password'].touched)" class="errors-msg">
                  <div *ngIf="angForm.controls['password'].errors.required">
                    Password is required.
                  </div>
                  <div *ngIf="angForm.controls['password'].errors.minlength">
                    Minimum 8 characters required.
                  </div>
                  <div *ngIf="!angForm.controls['password'].errors.minlength && angForm.controls['password'].errors.pattern">
                       At least one special characters/[A-Z]/[a-z]/(0-9)
                  </div>
                </div>
              
            </div>
          </form>
      
          <div class=" ">
            <button role="button" class="igh-btn btn btn-block igh-btn-primary"  type="submit" [disabled]="angForm.pristine || angForm.invalid || !termCondition" mat-button mat-raised-button  matStepperNext >Signup</button>
            <button type="submit" class="igh-btn  btn-block igh-btn-white"  (click)="openDialog()">I have a Referral code</button>
          </div>
      
          <div class="Conditions-block">
              <p>I consent to  <a routerLink="/terms-condition" target="_blank" > Terms & Conditions </a>
               </p>
              <mat-slide-toggle  (change)="checkTermCondition($event )" [checked]="termCondition"></mat-slide-toggle>
              <!-- <span *ngIf="!termCondition" class="errors-msg">
                  Please select term and conditions
                </span> -->
              
          </div>
          <!-- <div *ngIf="!termCondition" class="errors">
              Please select term and conditions
            </div> -->
          <p>
              
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam</p>
        </div>
        </section>
    </mat-step>
  
    <mat-step [stepControl]="secondFrom">
      
        
      <div class="row"> 
        <div class="col-sm-12 col-md-12 col-lg-6" >
          <img src="assets/images/Mask-Group.png">
        </div>
         <div class="col-sm-12 col-md-12 col-lg-6" >

          <div  class="profile-block p-5">
              <!-- <button mat-button matStepperPrevious>Back</button> -->
              <!-- <a class="back-icon" mat-button matStepperPrevious><i class="material-icons">arrow_back</i></a> -->
              <div >
                  <button mat-button matStepperPrevious class="back-btn"><a class="back-icon" href="javascript:;" ><i class="material-icons">arrow_back</i></a></button>
                </div>
              <div class="row">
          <div class="col-sm-12">
            <h2 class="mb-4 igh-block-title">Tell us about yourself</h2>
          </div>
        </div>
              <form class="" [formGroup]="secondFrom" novalidate>
              <div class="profil-detail">
                  <div class="avtar-outer">
                    <div class="img-outer">
                      <span class="edit-icon" *ngIf="imgURL">
                          <i class="material-icons">
                              create
                              </i>
                      </span>
                       
                      <input type="file" (change)="onFileChanged($event)"  formControlName="profile_image"
                      #profile_image accept="image/jpg,image/jpeg,image/png">  
                      <div class="upload-input">
                        <div  class="img-outer"  *ngIf="imgURL"  [ngStyle]="{ 'background-image': 'url(' + imgURL + ')'}">
                            <!-- <img [src]="imgURL"> -->
                        </div>
                        <div *ngIf ="imgURL == ''" >
                          <i class="material-icons text-center">
                            add_circle_outline
                          </i>
                          <p>upload photo</p>
                          
                        </div>
                      </div>
                    </div>
                    <div class="mat-error" *ngIf="secondFrom.controls['profile_image'].invalid && (secondFrom.controls['profile_image'].dirty || secondFrom.controls['profile_image'].touched) && secondFrom.controls['profile_image'].errors.required && secondFrom.controls['profile_image'].pristine">
                                Image required
                    </div>
                    <div class="mat-error" *ngIf="imageError">
                        Only jpeg, jpg or png allowed
                      </div>
                  </div>
                <div class="profile-name">
                    <div class="input-title-slect">
                    <mat-form-field class="name-prefix">
                        <mat-select class='prefix' matNativeControl required  formControlName="nameprefix"
                        #nameprefix  [(ngModel)]="defaultSelected">
                          <mat-option value="Dr">Dr</mat-option>
                          <mat-option value="Mr">Mr</mat-option>
                          <mat-option value="Mrs">Mrs</mat-option>
                          <mat-option value="Ms">Ms</mat-option>
                          <mat-option value="Jr">Jr</mat-option>
                          <mat-option value="Sr">Sr</mat-option>
                        </mat-select >
                    </mat-form-field>
                 
                    <mat-form-field class="example-full-width">
                     <input matInput placeholder="First Name" formControlName="firstname"
                      #firstname [ngModel]='firstName' maxlength="30">
                  
                       
                        <mat-error *ngIf="secondFrom.controls['firstname'].invalid && (secondFrom.controls['firstname'].dirty || secondFrom.controls['firstname'].touched)">
                          <span *ngIf="secondFrom.controls['firstname'].errors.required">
                              First name is required.
                          </span>
                          <span *ngIf="secondFrom.controls['firstname'].errors.minlength">
                            Minimum 3 characters required.
                          </span>
                        </mat-error >
                    </mat-form-field>
                  </div>
                    <mat-form-field class="example-full-width">
                        <input matInput placeholder="Last Name" formControlName="lastname"
                        #lastname [ngModel]='lastName' maxlength="30">
                        <mat-error *ngIf="secondFrom.controls['lastname'].invalid && (secondFrom.controls['lastname'].dirty || secondFrom.controls['lastname'].touched)">
                          <span *ngIf="secondFrom.controls['lastname'].errors.required">
                              Last name is required.
                          </span>
                          <span *ngIf="secondFrom.controls['lastname'].errors.minlength">
                            Minimum 3 characters required.
                          </span>
                        </mat-error >
                        
                      </mat-form-field>
                    <mat-form-field class="example-full-width">
                      <!-- <input matInput placeholder="Your Profession" formControlName="profession" -->
                      <mat-label>Your Profession</mat-label>
                      <mat-select formControlName="profession" [(ngModel)]="selectedProfession" 
                      #profession>
                        <mat-option *ngFor="let proofs of professions" [value]="proofs" >
                            {{proofs}}
                        </mat-option>
                      </mat-select>
                      <mat-error>
                          <span *ngIf="secondFrom.controls['profession'].invalid && (secondFrom.controls['profession'].dirty || secondFrom.controls['profession'].touched)">
                              Profession is required.
                          </span>
                        </mat-error >
                        
                    </mat-form-field>
                  <!-- <div *ngIf="selectedProfession == 'OTHER'">
                      <input type="text" formControlName="professionother"  ngModel>
                  </div> -->

                  <mat-form-field class="example-full-width" *ngIf="selectedProfession == 'OTHER'">
                    <input matInput placeholder="Enter Profession" formControlName="professionother" maxlength="50">
                    <mat-error>
                      <span *ngIf=" secondFrom.controls['professionother'].invalid && (secondFrom.controls['professionother'].dirty || secondFrom.controls['professionother'].touched)">
                          Minimum 3 characters required.
                      </span>
                      <!-- <span *ngIf="secondFrom.controls['professionother'].errors.minlength">
                        Minimum 3 characters required.
                      </span> -->
                    </mat-error >
                  </mat-form-field>
                   
                </div>
              </div>
            </form>
              <form class="" [formGroup]="thirdFrom" novalidate>
              <div class="profile-select">
                
                <mat-form-field>
                  <mat-label>Your Speciality</mat-label>
                  <mat-select formControlName="speciality" [(ngModel)]="selectedSpeciaility"
                  #speciality>
                      <mat-option *ngFor="let category of specialization" [value]="category">
                        {{category}}
                      </mat-option>
                    </mat-select>
                    <mat-error>
                      <span *ngIf="thirdFrom.controls['speciality'].invalid && (thirdFrom.controls['speciality'].dirty || thirdFrom.controls['speciality'].touched)">
                          Speciality is required.
                      </span>
                    </mat-error >
                </mat-form-field>
                <!-- <div *ngIf="selectedSpeciaility == 'OTHER'">
                  <input type="text" formControlName="specialityother" ngModel>
              </div> -->

              <mat-form-field class="example-full-width" *ngIf="selectedSpeciaility == 'OTHER'">
                <input matInput placeholder="Enter Speciality" formControlName="specialityother" maxlength="50">
                <mat-error *ngIf="thirdFrom.controls['specialityother'].dirty">
                  <span *ngIf="thirdFrom.controls['specialityother'].touched">
                      Minimum 3 characters required.
                  </span>
                  
                </mat-error >
              </mat-form-field>


              </div>
              <div class="profile-slider my-3">
                  <div class="slider-result">
                   <span class="result-no">{{sliderValue}}  </span>
                   Years in Experience
                  </div>
                 <mat-slider min="1" max="20" [(ngModel)]="sliderValue" [step]="0.1" (change)="onChange()" formControlName="experience"
                 #experience>
                </mat-slider>
                 
              </div>
              <div class="tag- mt-3">
                <div class="card">
                  <div class="card-header">
                    What are your Language Preferences
                  </div>
                  <div class="card-body">
                    <mat-form-field>
                      <mat-chip-list #chipList >
                        <mat-chip
                          *ngFor="let lang of language"
                          [selectable]="selectable"
                          [removable]="removable"
                          (removed)="remove(lang)"
                          >
                          {{lang}}
                          <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                        </mat-chip>
                        <input
                          #fruitInput
                          [formControl]="langCtrl"
                          [matAutocomplete]="auto"
                          [matChipInputFor]="chipList"
                          [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                          [matChipInputAddOnBlur]="addOnBlur"
                          (matChipInputTokenEnd)="add($event)" maxlength="10"
                          aria-label="Number" matInput
                          >
                      </mat-chip-list>
                      <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                        <mat-option *ngFor="let fruit of filteredFruits | async "  [value]="fruit">
                          {{fruit}}
                        </mat-option>
                      </mat-autocomplete>
                     
                      <mat-error>
                          <span *ngIf="langError">
                              Language is required.
                          </span>
                        </mat-error >
                    </mat-form-field>
                  </div>
                </div>
              </div>
            
              <div class="d-flex ">
                 <button role="button" class="igh-btn btn btn-lg mx-auto mt-5 igh-btn-primary"  (click) = "signup()">Save & Continue</button>
              </div>
            </form>
          </div>
        </div>
      </div>
      
        <!-- <button mat-button mat-raised-button color="primary" matStepperNext>Next</button>          
        <button mat-button mat-raised-button color="" matStepperPrevious>Back</button>         -->
        <!-- <button mat-button mat-raised-button color="primary"  >Done</button>   -->
    </mat-step>
  </mat-horizontal-stepper>